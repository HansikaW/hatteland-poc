È1
HD:\Project - Copy\server\WebAPI\Controllers\ApplicationUserController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class %
ApplicationUserController *
:+ ,
ControllerBase- ;
{ 
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
private 
readonly 
SignInManager &
<& '
ApplicationUser' 6
>6 7
_signInManager8 F
;F G
private 
readonly 
ApplicationSettings ,
_appSettings- 9
;9 :
public %
ApplicationUserController (
(( )
UserManager) 4
<4 5
ApplicationUser5 D
>D E
userManagerG R
,R S
SignInManagerT a
<a b
ApplicationUserb q
>q r
signInManager	s Ä
,
Ä Å
IOptions
Å â
<
â ä!
ApplicationSettings
ä ù
>
ù û
appSettings
ü ™
)
™ ´
{	 

_userManager 
= 
userManager '
;' (
_signInManager 
= 
signInManager +
;+ ,
_appSettings 
= 
appSettings &
.& '
Value' ,
;, -
}	 

[   	
HttpPost  	 
]   
[!! 	
Route!!	 
(!! 
$str!! 
)!! 
]!! 
public$$ 
async$$ 
Task$$ 
<$$ 
Object$$  
>$$  !
PostApplicationUser$$# 6
($$6 7 
ApplicationUserModel$$7 K
model$$L Q
)$$Q R
{%% 	
var&& 
applicationUser&& 
=&&  !
new&&" %
ApplicationUser&&& 5
(&&5 6
)&&6 7
{'' 
UserName(( 
=(( 
model((  
.((  !
UserName((! )
,(() *
FullName)) 
=)) 
model))  
.))  !
FullName))! )
,))) *
Email** 
=** 
model** 
.** 
Email** #
}++ 
;++ 
try-- 
{.. 
var// 
result// 
=// 
await// !
_userManager//" .
.//. /
CreateAsync/// :
(//: ;
applicationUser//; J
,//J K
model//L Q
.//Q R
Password//R Z
)//Z [
;//[ \
return00 
Ok00 
(00 
result00  
)00  !
;00! "
}11 
catch22 
(22 
	Exception22 
ex22 
)22  
{33 
throw44 
ex44 
;44 
}55 
}66 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Login;;) .
(;;. /

LoginModel;;/ 9
model;;: ?
);;? @
{<< 	
var== 
user== 
=== 
await== 
_userManager== )
.==) *
FindByNameAsync==* 9
(==9 :
model==: ?
.==? @
UserName==@ H
)==H I
;==I J
if>> 
(>> 
user>> 
!=>> 
null>> 
&&>> 
await>>  %
_userManager>>& 2
.>>2 3
CheckPasswordAsync>>3 E
(>>E F
user>>F J
,>>J K
model>>L Q
.>>Q R
Password>>R Z
)>>Z [
)>>[ \
{?? 
var@@ 
tokenDescriptor@@ #
=@@$ %
new@@& )#
SecurityTokenDescriptor@@* A
{AA 
SubjectBB 
=BB 
newBB !
ClaimsIdentityBB" 0
(BB0 1
newBB1 4
ClaimBB5 :
[BB: ;
]BB; <
{CC 
newDD 
ClaimDD !
(DD! "
$strDD" *
,DD* +
userDD+ /
.DD/ 0
IdDD0 2
.DD2 3
ToStringDD3 ;
(DD; <
)DD< =
)DD= >
}EE 
)EE 
,EE 
ExpiresFF 
=FF 
DateTimeFF &
.FF& '
UtcNowFF' -
.FF- .
AddDaysFF. 5
(FF5 6
$numFF6 7
)FF7 8
,FF8 9
SigningCredentialsGG &
=GG' (
newGG) ,
SigningCredentialsGG- ?
(GG? @
newGG@ C 
SymmetricSecurityKeyGGD X
(GGX Y
EncodingGGY a
.GGa b
UTF8GGb f
.GGf g
GetBytesGGg o
(GGo p
_appSettingsGGp |
.GG| }

JWT_Secret	GG} á
)
GGá à
)
GGà â
,
GGâ ä 
SecurityAlgorithms
GGã ù
.
GGù û!
HmacSha256Signature
GGû ±
)
GG± ≤
}HH 
;HH 
varII 
tokenHandlerII  
=II! "
newII# &#
JwtSecurityTokenHandlerII' >
(II> ?
)II? @
;II@ A
varJJ 
securityTokenJJ !
=JJ" #
tokenHandlerJJ$ 0
.JJ0 1
CreateTokenJJ1 <
(JJ< =
tokenDescriptorJJ= L
)JJL M
;JJM N
varKK 
tokenKK 
=KK 
tokenHandlerKK (
.KK( )

WriteTokenKK) 3
(KK3 4
securityTokenKK4 A
)KKA B
;KKB C
returnLL 
OkLL 
(LL 
newLL 
{LL 
tokenLL  %
}LL& '
)LL' (
;LL( )
}MM 
elseNN 
returnOO 

BadRequestOO !
(OO! "
newOO" %
{OO& '
messageOO( /
=OO0 1
$strOO2 V
}OOW X
)OOX Y
;OOY Z
}PP 	
}QQ 
}RR îE
GD:\Project - Copy\server\WebAPI\Controllers\EmployeeDetailController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
EmployeeDetailController )
:* +
ControllerBase, :
{ 
private 
readonly #
IEmployeeDetailsHandler 0
_handler1 9
;9 :
private 
readonly 
ILogger  
<  !$
EmployeeDetailController! 9
>9 :
_logger; B
;B C
public $
EmployeeDetailController '
(' (#
IEmployeeDetailsHandler( ?
handler@ G
,G H
ILoggerI P
<P Q$
EmployeeDetailControllerQ i
>i j
loggerk q
)q r
{ 	
_handler 
= 
handler 
; 
_logger 
= 
logger 
; 
} 	
[   	
HttpGet  	 
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
>!!& '
GetEmployeeDetails!!( :
(!!: ;
)!!; <
{"" 	
try## 
{$$ 
var%% 
posts%% 
=%% 
await%% !
_handler%%" *
.%%* +
GetEmployeeDetails%%+ =
(%%= >
)%%> ?
;%%? @
_logger&& 
.&& 
LogInformation&& &
(&&& '
$str&&' E
,&&E F
posts&&G L
)&&L M
;&&M N
if'' 
('' 
posts'' 
=='' 
null'' !
)''! "
{(( 
return)) 
NotFound)) #
())# $
)))$ %
;))% &
}** 
return,, 
Ok,, 
(,, 
posts,, 
),,  
;,,  !
}-- 
catch.. 
(.. 
	Exception.. 
).. 
{// 
return00 

BadRequest00 !
(00! "
)00" #
;00# $
}11 
}22 	
[55 	
HttpGet55	 
(55 
$str55 
)55 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
GetEmployeeDetail66) :
(66: ;
[66; <
	FromRoute66< E
]66E F
int66G J
id66K M
)66M N
{77 	
if88 
(88 
!88 

ModelState88 
.88 
IsValid88 #
)88# $
{99 
return:: 

BadRequest:: !
(::! "

ModelState::" ,
)::, -
;::- .
};; 
EmployeeDetail== 
employeeDetail== )
===* +
await==, 1
_handler==2 :
.==: ;
GetEmployeeDetail==; L
(==L M
id==M O
)==O P
;==P Q
_logger?? 
.?? 
LogInformation?? "
(??" #
$str??# A
,??A B
employeeDetail??C Q
)??Q R
;??R S
ifAA 
(AA 
employeeDetailAA 
==AA !
nullAA" &
)AA& '
{BB 
returnCC 
NotFoundCC 
(CC  
)CC  !
;CC! "
}DD 
returnFF 
OkFF 
(FF 
employeeDetailFF $
)FF$ %
;FF% &
}GG 	
[JJ 	
HttpPutJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
PutEmployeeDetailKK) :
(KK: ;
[KK; <
	FromRouteKK< E
]KKE F
intKKG J
idKKK M
,KKM N
[KKO P
FromBodyKKP X
]KKX Y
EmployeeDetailKKZ h
employeeDetailKKi w
)KKw x
{LL 	
ifMM 
(MM 
!MM 

ModelStateMM 
.MM 
IsValidMM #
)MM# $
{NN 
returnOO 

BadRequestOO !
(OO! "

ModelStateOO" ,
)OO, -
;OO- .
}PP 
ifRR 
(RR 
idRR 
!=RR 
employeeDetailRR $
.RR$ %
EIdRR% (
)RR( )
{SS 
returnTT 

BadRequestTT !
(TT! "
)TT" #
;TT# $
}UU 
tryWW 
{XX 
awaitYY 
_handlerYY 
.YY "
PutEmployeeDetailAsyncYY 5
(YY5 6
idYY6 8
,YY8 9
employeeDetailYY: H
)YYH I
;YYI J
}\\ 
catch]] 
(]] (
DbUpdateConcurrencyException]] /
)]]/ 0
{^^ 
if__ 
(__ 
!__ 
(__ 
_handler__ 
.__  
EmployeeDetailExists__ 3
(__3 4
id__4 6
)__6 7
)__7 8
)__8 9
{`` 
returnaa 
NotFoundaa #
(aa# $
)aa$ %
;aa% &
}bb 
elsecc 
{dd 
throwee 
;ee 
}ff 
}gg 
returnii 
Okii 
(ii 
)ii 
;ii 
}jj 	
[mm 
HttpPostmm 
]mm 
publicnn 
asyncnn 
Tasknn 
<nn 
IActionResultnn &
>nn& '
PostEmployeeDetailnn( :
(nn: ;
[nn; <
FromBodynn< D
]nnD E
EmployeeDetailnnF T
employeeDetailnnU c
)nnc d
{oo 	
ifpp 
(pp 

ModelStatepp 
.pp 
IsValidpp "
)pp" #
{qq 
tryrr 
{ss 
vartt 
eIdtt 
=tt 
awaittt #
_handlertt$ ,
.tt, -
PostEmployeeDetailtt- ?
(tt? @
employeeDetailtt@ N
)ttN O
;ttO P
ifuu 
(uu 
eIduu 
>=uu 
$numuu  
)uu  !
{vv 
returnww 
CreatedAtActionww .
(ww. /
$strww/ B
,wwB C
newwwD G
{wwH I
idwwJ L
=wwM N
employeeDetailwwO ]
.ww] ^
EIdww^ a
}wwb c
,wwc d
employeeDetailwwe s
)wws t
;wwt u
}xx 
elseyy 
{zz 
return{{ 
NotFound{{ '
({{' (
){{( )
;{{) *
}|| 
}}} 
catch~~ 
(~~ 
	Exception~~  
)~~  !
{ 
return
ÅÅ 

BadRequest
ÅÅ %
(
ÅÅ% &
)
ÅÅ& '
;
ÅÅ' (
}
ÇÇ 
}
ÑÑ 
return
ÜÜ 

BadRequest
ÜÜ 
(
ÜÜ 
)
ÜÜ 
;
ÜÜ  
}
áá 	
[
ää 	

HttpDelete
ää	 
(
ää 
$str
ää 
)
ää 
]
ää 
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
IActionResult
ãã '
>
ãã' ("
DeleteEmployeeDetail
ãã) =
(
ãã= >
[
ãã> ?
	FromRoute
ãã? H
]
ããH I
int
ããJ M
id
ããN P
)
ããP Q
{
åå 	
int
çç 
result
çç 
=
çç 
$num
çç 
;
çç 
if
éé 
(
éé 
id
éé 
==
éé 
$num
éé 
)
éé 
{
èè 
return
êê 

BadRequest
êê !
(
êê! "
)
êê" #
;
êê# $
}
ëë 
try
ìì 
{
îî 
result
ïï 
=
ïï 
await
ïï 
_handler
ïï '
.
ïï' ("
DeleteEmployeeDetail
ïï( <
(
ïï< =
id
ïï= ?
)
ïï? @
;
ïï@ A
if
ññ 
(
ññ 
result
ññ 
==
ññ 
$num
ññ 
)
ññ  
{
óó 
return
òò 
NotFound
òò #
(
òò# $
)
òò$ %
;
òò% &
}
ôô 
return
öö 
Ok
öö 
(
öö 
)
öö 
;
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
)
úú 
{
ùù 
return
ûû 

BadRequest
ûû !
(
ûû! "
)
ûû" #
;
ûû# $
}
üü 
}
†† 	
}
££ 
}§§ å
DD:\Project - Copy\server\WebAPI\Controllers\UserProfileController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class !
UserProfileController &
:' (
ControllerBase) 7
{ 
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
public !
UserProfileController $
($ %
UserManager% 0
<0 1
ApplicationUser1 @
>@ A
userManagerB M
)M N
{ 	
_userManager 
= 
userManager &
;& '
} 	
[ 	
HttpGet	 
] 
[ 	
	Authorize	 
] 
public 
async 
Task 
< 
Object  
>  !
GetUserProfile" 0
(0 1
)1 2
{ 	
string 
userId 
= 
User  
.  !
Claims! '
.' (
First( -
(- .
c. /
=>0 2
c3 4
.4 5
Type5 9
==: <
$str= E
)E F
.F G
ValueG L
;L M
var 
user 
= 
await 
_userManager )
.) *
FindByIdAsync* 7
(7 8
userId8 >
)> ?
;? @
return 
new 
{ 
user   
.   
UserName   
,   
user!! 
.!! 
FullName!! 
,!! 
user"" 
."" 
Email"" 
}## 
;## 
}$$ 	
}%% 
}&& Î
?D:\Project - Copy\server\WebAPI\Controllers\ValuesController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
ValuesController !
:" #
ControllerBase$ 2
{ 
public 
ValuesController 
(  !
AuthenticationContext  5
context6 =
)= >
{ 
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
< 
IEnumerable '
<' (
string( .
>. /
>/ 0
Get1 4
(4 5
)5 6
{ 	
return 
new 
string 
[ 
] 
{  !
$str" *
,* +
$str, 4
}5 6
;6 7
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
ActionResult 
< 
string "
>" #
Get$ '
(' (
int( +
id, .
). /
{ 	
return 
$str 
; 
} 	
[!! 	
HttpPost!!	 
]!! 
public"" 
void"" 
Post"" 
("" 
["" 
FromBody"" "
]""" #
string""$ *
value""+ 0
)""0 1
{## 	
throw$$ 
new$$ !
NotSupportedException$$ +
($$+ ,
)$$, -
;$$- .
}%% 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
public)) 
void)) 
Put)) 
()) 
int)) 
id)) 
,)) 
[))  !
FromBody))! )
]))) *
string))+ 1
value))2 7
)))7 8
{** 	
throw++ 
new++ !
NotSupportedException++ +
(+++ ,
)++, -
;++- .
},, 	
[// 	

HttpDelete//	 
(// 
$str// 
)// 
]// 
public00 
void00 
Delete00 
(00 
int00 
id00 !
)00! "
{11 	
throw22 
new22 !
NotSupportedException22 +
(22+ ,
)22, -
;22- .
}33 	
}44 
}55 Ì
=D:\Project - Copy\server\WebAPI\Data\AuthenticationContext.cs
	namespace		 	
WebAPI		
 
.		 
Data		 
{

 
public 
class !
AuthenticationContext *
:+ ,
IdentityDbContext- >
{ 	
public !
AuthenticationContext (
(( )
DbContextOptions) 9
options: A
)A B
:C D
baseE I
(I J
optionsJ Q
)Q R
{ 
} 
public 
DbSet 
< 
ApplicationUser (
>( )
ApplicationUsers* :
{; <
get= @
;@ A
setB E
;E F
}G H
public 
DbSet 
< 
EmployeeDetail '
>' (
EmployeeDetails) 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
} 	
} ë
AD:\Project - Copy\server\WebAPI\Enitities\EmployeeDetailEntity.cs
	namespace 	
WebAPI
 
. 
	Enitities 
{ 
public 

class  
EmployeeDetailEntity %
{		 
public

 
int

 
EId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
EmployeeName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
PhoneNo 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
BDay 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Nic 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ö3
@D:\Project - Copy\server\WebAPI\Handler\EmployeeDetailHandler.cs
	namespace 	
WebAPI
 
. 
Handler 
{ 
public 

class !
EmployeeDetailHandler &
:' (#
IEmployeeDetailsHandler) @
{ 
private 
readonly %
IEmployeeDetailRepository 2
_repository3 >
;> ?
private 
readonly 
IMapper  
_mapper! (
;( )
public !
EmployeeDetailHandler $
($ %%
IEmployeeDetailRepository% >

repository? I
,I J
IMapperK R
mapperS Y
)Y Z
{ 	
_repository 
= 

repository $
;$ %
_mapper 
= 
mapper 
; 
} 	
public 
async 
Task 
< 
List 
< 
EmployeeDetail -
>- .
>. /
GetEmployeeDetails0 B
(B C
)C D
{ 	
return 
_mapper 
. 
Map 
< 
List #
<# $
EmployeeDetail$ 2
>2 3
>3 4
(4 5
await5 :
_repository; F
.F G
GetAllAsyncG R
(R S
)S T
)T U
;U V
} 	
public 
async 
Task 
< 
EmployeeDetail (
>( )
GetEmployeeDetail* ;
(; <
int< ?
id@ B
)B C
{   	
var!! 
repo!! 
=!! 
await!! 
_repository!! (
.!!( )!
GetEmployeeDetailById!!) >
(!!> ?
id!!? A
)!!A B
;!!B C
var"" 
employeeDetail"" 
=""  
_mapper""! (
.""( )
Map"") ,
<"", -
EmployeeDetail""- ;
>""; <
(""< =
repo""= A
)""A B
;""B C
if$$ 
($$ 
employeeDetail$$ 
==$$ !
null$$" &
)$$& '
{%% 
return&& 
null&& 
;&& 
}'' 
return(( 
employeeDetail(( !
;((! "
})) 	
public++ 
async++ 
Task++ 
<++ 
EmployeeDetail++ (
>++( )"
PutEmployeeDetailAsync++* @
(++@ A
int++A D
id++E G
,++G H
EmployeeDetail++I W
employeeDetail++X f
)++f g
{,, 	
try-- 
{.. 
if// 
(// 
employeeDetail// "
==//# %
null//& *
)//* +
{00 
throw11 
new11 !
ArgumentNullException11 3
(113 4
nameof114 :
(11: ;
employeeDetail11; I
)11I J
)11J K
;11K L
}22 
_mapper44 
.44 
Map44 
<44  
EmployeeDetailEntity44 0
>440 1
(441 2
employeeDetail442 @
)44@ A
;44A B
_repository55 
.55 
Update55 "
(55" #
employeeDetail55# 1
)551 2
;552 3
await66 
_repository66 !
.66! "
SaveAllAsync66" .
(66. /
)66/ 0
;660 1
return88 
employeeDetail88 %
;88% &
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
):: 
{;; 
Console<< 
.<< 
	WriteLine<< !
(<<! "
ex<<" $
)<<$ %
;<<% &
throw== 
;== 
}>> 
}@@ 	
publicBB 
asyncBB 
TaskBB 
<BB 
intBB 
>BB 
PostEmployeeDetailBB 1
(BB1 2
EmployeeDetailBB2 @
employeeDetailBBA O
)BBO P
{CC 	
ifEE 
(EE 
employeeDetailEE 
!=EE !
nullEE" &
)EE& '
{FF 
_repositoryHH 
.HH 
InsertHH "
(HH" #
employeeDetailHH# 1
)HH1 2
;HH2 3
awaitII 
_repositoryII !
.II! "
SaveAllAsyncII" .
(II. /
)II/ 0
;II0 1
_mapperKK 
.KK 
MapKK 
<KK 
EmployeeDetailKK *
>KK* +
(KK+ ,
employeeDetailKK, :
)KK: ;
;KK; <
returnLL 
employeeDetailLL %
.LL% &
EIdLL& )
;LL) *
}MM 
returnNN 
$numNN 
;NN 
}OO 	
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
intQQ 
>QQ  
DeleteEmployeeDetailQQ 3
(QQ3 4
intQQ4 7
idQQ8 :
)QQ: ;
{RR 	
intSS 
resultSS 
=SS 
$numSS 
;SS 
ifUU 
(UU 
idUU 
!=UU 
$numUU 
)UU 
{VV 
varWW 
employeeDetailWW "
=WW# $
awaitWW% *
_repositoryWW+ 6
.WW6 7!
GetEmployeeDetailByIdWW7 L
(WWL M
idWWM O
)WWO P
;WWP Q
ifXX 
(XX 
employeeDetailXX "
!=XX# %
nullXX& *
)XX* +
{YY 
_repositoryZZ 
.ZZ  
DeleteZZ  &
(ZZ& '
employeeDetailZZ' 5
)ZZ5 6
;ZZ6 7
await[[ 
_repository[[ %
.[[% &
SaveAllAsync[[& 2
([[2 3
)[[3 4
;[[4 5
}\\ 
else]] 
{^^ 
return__ 
$num__ 
;__ 
}`` 
returnaa 
employeeDetailaa %
.aa% &
EIdaa& )
;aa) *
}bb 
returncc 
resultcc 
;cc 
}dd 	
publicff 
boolff  
EmployeeDetailExistsff ,
(ff, -
intff- 0
idff1 3
)ff3 4
{gg 
returnhh 
_repositoryhh "
.hh" # 
EmployeeDetailExistshh# 7
(hh7 8
idhh8 :
)hh: ;
;hh; <
}ii 
}jj 
}kk ô
BD:\Project - Copy\server\WebAPI\Handler\IEmployeeDetailsHandler.cs
	namespace 	
WebAPI
 
. 
Handler 
{		 
public

 

	interface

 #
IEmployeeDetailsHandler

 ,
{ 
Task 
< 
List 
< 
EmployeeDetail  
>  !
>! "
GetEmployeeDetails# 5
(5 6
)6 7
;7 8
Task 
< 
EmployeeDetail 
> 
GetEmployeeDetail .
(. /
int/ 2
id3 5
)5 6
;6 7
Task 
< 
EmployeeDetail 
> "
PutEmployeeDetailAsync 3
(3 4
int4 7
id8 :
,: ;
EmployeeDetail< J
employeeDetailK Y
)Y Z
;Z [
Task 
< 
int 
> 
PostEmployeeDetail $
($ %
EmployeeDetail% 3
employeeDetail4 B
)B C
;C D
Task 
< 
int 
>  
DeleteEmployeeDetail '
(' (
int( +
id, .
). /
;/ 0
bool  
EmployeeDetailExists !
(! "
int" %
id& (
)( )
;) *
} 
} â
0D:\Project - Copy\server\WebAPI\Mapper\Mapper.cs
	namespace		 	
WebAPI		
 
.		 
Mapper		 
{

 
public 

class 
Mapper 
: 
Profile !
{ 
public 
static 
IMapper 
	GetMapper '
(' (
)( )
{ 	
var 
config 
= 
new 
MapperConfiguration 0
(0 1
cfg1 4
=>5 7
{ 
cfg 
. 
	CreateMap 
<  
EmployeeDetailEntity 2
,2 3
EmployeeDetail4 B
>B C
(C D
)D E
.E F

ReverseMapF P
(P Q
)Q R
;R S
} 
) 
; 
return 
config 
. 
CreateMapper &
(& '
)' (
;( )
} 	
} 
} ˆπ
JD:\Project - Copy\server\WebAPI\Migrations\20190826053559_InitialCreate.cs
	namespace 	
WebAPI
 
. 

Migrations 
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
	maxLength0 9
:9 :
$num; >
,> ?
nullable@ H
:H I
trueJ N
)N O
,O P
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
	maxLength: C
:C D
$numE H
,H I
nullableJ R
:R S
trueT X
)X Y
,Y Z
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
nullable< D
:D E
trueF J
)J K
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
	maxLength4 =
:= >
$num? B
,B C
nullableD L
:L M
trueN R
)R S
,S T
NormalizedUserName &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
	maxLength> G
:G H
$numI L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
	maxLength  1 :
:  : ;
$num  < ?
,  ? @
nullable  A I
:  I J
true  K O
)  O P
,  P Q
NormalizedEmail!! #
=!!$ %
table!!& +
.!!+ ,
Column!!, 2
<!!2 3
string!!3 9
>!!9 :
(!!: ;
	maxLength!!; D
:!!D E
$num!!F I
,!!I J
nullable!!K S
:!!S T
true!!U Y
)!!Y Z
,!!Z [
EmailConfirmed"" "
=""# $
table""% *
.""* +
Column""+ 1
<""1 2
bool""2 6
>""6 7
(""7 8
nullable""8 @
:""@ A
false""B G
)""G H
,""H I
PasswordHash##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
nullable##8 @
:##@ A
true##B F
)##F G
,##G H
SecurityStamp$$ !
=$$" #
table$$$ )
.$$) *
Column$$* 0
<$$0 1
string$$1 7
>$$7 8
($$8 9
nullable$$9 A
:$$A B
true$$C G
)$$G H
,$$H I
ConcurrencyStamp%% $
=%%% &
table%%' ,
.%%, -
Column%%- 3
<%%3 4
string%%4 :
>%%: ;
(%%; <
nullable%%< D
:%%D E
true%%F J
)%%J K
,%%K L
PhoneNumber&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
string&&/ 5
>&&5 6
(&&6 7
nullable&&7 ?
:&&? @
true&&A E
)&&E F
,&&F G 
PhoneNumberConfirmed'' (
='') *
table''+ 0
.''0 1
Column''1 7
<''7 8
bool''8 <
>''< =
(''= >
nullable''> F
:''F G
false''H M
)''M N
,''N O
TwoFactorEnabled(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
bool((4 8
>((8 9
(((9 :
nullable((: B
:((B C
false((D I
)((I J
,((J K

LockoutEnd)) 
=))  
table))! &
.))& '
Column))' -
<))- .
DateTimeOffset)). <
>))< =
())= >
nullable))> F
:))F G
true))H L
)))L M
,))M N
LockoutEnabled** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
bool**2 6
>**6 7
(**7 8
nullable**8 @
:**@ A
false**B G
)**G H
,**H I
AccessFailedCount++ %
=++& '
table++( -
.++- .
Column++. 4
<++4 5
int++5 8
>++8 9
(++9 :
nullable++: B
:++B C
false++D I
)++I J
,++J K
Discriminator,, !
=,," #
table,,$ )
.,,) *
Column,,* 0
<,,0 1
string,,1 7
>,,7 8
(,,8 9
nullable,,9 A
:,,A B
false,,C H
),,H I
,,,I J
FullName-- 
=-- 
table-- $
.--$ %
Column--% +
<--+ ,
string--, 2
>--2 3
(--3 4
type--4 8
:--8 9
$str--: I
,--I J
nullable--K S
:--S T
true--U Y
)--Y Z
}.. 
,.. 
constraints// 
:// 
table// "
=>//# %
{00 
table11 
.11 

PrimaryKey11 $
(11$ %
$str11% 5
,115 6
x117 8
=>119 ;
x11< =
.11= >
Id11> @
)11@ A
;11A B
}22 
)22 
;22 
migrationBuilder44 
.44 
CreateTable44 (
(44( )
name55 
:55 
$str55 (
,55( )
columns66 
:66 
table66 
=>66 !
new66" %
{77 
Id88 
=88 
table88 
.88 
Column88 %
<88% &
int88& )
>88) *
(88* +
nullable88+ 3
:883 4
false885 :
)88: ;
.99 

Annotation99 #
(99# $
$str99$ G
,99G H,
 SqlServerValueGenerationStrategy99I i
.99i j
IdentityColumn99j x
)99x y
,99y z
RoleId:: 
=:: 
table:: "
.::" #
Column::# )
<::) *
string::* 0
>::0 1
(::1 2
nullable::2 :
:::: ;
false::< A
)::A B
,::B C
	ClaimType;; 
=;; 
table;;  %
.;;% &
Column;;& ,
<;;, -
string;;- 3
>;;3 4
(;;4 5
nullable;;5 =
:;;= >
true;;? C
);;C D
,;;D E

ClaimValue<< 
=<<  
table<<! &
.<<& '
Column<<' -
<<<- .
string<<. 4
><<4 5
(<<5 6
nullable<<6 >
:<<> ?
true<<@ D
)<<D E
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% :
,@@: ;
x@@< =
=>@@> @
x@@A B
.@@B C
Id@@C E
)@@E F
;@@F G
tableAA 
.AA 

ForeignKeyAA $
(AA$ %
nameBB 
:BB 
$strBB F
,BBF G
columnCC 
:CC 
xCC  !
=>CC" $
xCC% &
.CC& '
RoleIdCC' -
,CC- .
principalTableDD &
:DD& '
$strDD( 5
,DD5 6
principalColumnEE '
:EE' (
$strEE) -
,EE- .
onDeleteFF  
:FF  !
ReferentialActionFF" 3
.FF3 4
CascadeFF4 ;
)FF; <
;FF< =
}GG 
)GG 
;GG 
migrationBuilderII 
.II 
CreateTableII (
(II( )
nameJJ 
:JJ 
$strJJ (
,JJ( )
columnsKK 
:KK 
tableKK 
=>KK !
newKK" %
{LL 
IdMM 
=MM 
tableMM 
.MM 
ColumnMM %
<MM% &
intMM& )
>MM) *
(MM* +
nullableMM+ 3
:MM3 4
falseMM5 :
)MM: ;
.NN 

AnnotationNN #
(NN# $
$strNN$ G
,NNG H,
 SqlServerValueGenerationStrategyNNI i
.NNi j
IdentityColumnNNj x
)NNx y
,NNy z
UserIdOO 
=OO 
tableOO "
.OO" #
ColumnOO# )
<OO) *
stringOO* 0
>OO0 1
(OO1 2
nullableOO2 :
:OO: ;
falseOO< A
)OOA B
,OOB C
	ClaimTypePP 
=PP 
tablePP  %
.PP% &
ColumnPP& ,
<PP, -
stringPP- 3
>PP3 4
(PP4 5
nullablePP5 =
:PP= >
truePP? C
)PPC D
,PPD E

ClaimValueQQ 
=QQ  
tableQQ! &
.QQ& '
ColumnQQ' -
<QQ- .
stringQQ. 4
>QQ4 5
(QQ5 6
nullableQQ6 >
:QQ> ?
trueQQ@ D
)QQD E
}RR 
,RR 
constraintsSS 
:SS 
tableSS "
=>SS# %
{TT 
tableUU 
.UU 

PrimaryKeyUU $
(UU$ %
$strUU% :
,UU: ;
xUU< =
=>UU> @
xUUA B
.UUB C
IdUUC E
)UUE F
;UUF G
tableVV 
.VV 

ForeignKeyVV $
(VV$ %
nameWW 
:WW 
$strWW F
,WWF G
columnXX 
:XX 
xXX  !
=>XX" $
xXX% &
.XX& '
UserIdXX' -
,XX- .
principalTableYY &
:YY& '
$strYY( 5
,YY5 6
principalColumnZZ '
:ZZ' (
$strZZ) -
,ZZ- .
onDelete[[  
:[[  !
ReferentialAction[[" 3
.[[3 4
Cascade[[4 ;
)[[; <
;[[< =
}\\ 
)\\ 
;\\ 
migrationBuilder^^ 
.^^ 
CreateTable^^ (
(^^( )
name__ 
:__ 
$str__ (
,__( )
columns`` 
:`` 
table`` 
=>`` !
new``" %
{aa 
LoginProviderbb !
=bb" #
tablebb$ )
.bb) *
Columnbb* 0
<bb0 1
stringbb1 7
>bb7 8
(bb8 9
	maxLengthbb9 B
:bbB C
$numbbD G
,bbG H
nullablebbI Q
:bbQ R
falsebbS X
)bbX Y
,bbY Z
ProviderKeycc 
=cc  !
tablecc" '
.cc' (
Columncc( .
<cc. /
stringcc/ 5
>cc5 6
(cc6 7
	maxLengthcc7 @
:cc@ A
$numccB E
,ccE F
nullableccG O
:ccO P
falseccQ V
)ccV W
,ccW X
ProviderDisplayNamedd '
=dd( )
tabledd* /
.dd/ 0
Columndd0 6
<dd6 7
stringdd7 =
>dd= >
(dd> ?
nullabledd? G
:ddG H
trueddI M
)ddM N
,ddN O
UserIdee 
=ee 
tableee "
.ee" #
Columnee# )
<ee) *
stringee* 0
>ee0 1
(ee1 2
nullableee2 :
:ee: ;
falseee< A
)eeA B
}ff 
,ff 
constraintsgg 
:gg 
tablegg "
=>gg# %
{hh 
tableii 
.ii 

PrimaryKeyii $
(ii$ %
$strii% :
,ii: ;
xii< =
=>ii> @
newiiA D
{iiE F
xiiG H
.iiH I
LoginProvideriiI V
,iiV W
xiiX Y
.iiY Z
ProviderKeyiiZ e
}iif g
)iig h
;iih i
tablejj 
.jj 

ForeignKeyjj $
(jj$ %
namekk 
:kk 
$strkk F
,kkF G
columnll 
:ll 
xll  !
=>ll" $
xll% &
.ll& '
UserIdll' -
,ll- .
principalTablemm &
:mm& '
$strmm( 5
,mm5 6
principalColumnnn '
:nn' (
$strnn) -
,nn- .
onDeleteoo  
:oo  !
ReferentialActionoo" 3
.oo3 4
Cascadeoo4 ;
)oo; <
;oo< =
}pp 
)pp 
;pp 
migrationBuilderrr 
.rr 
CreateTablerr (
(rr( )
namess 
:ss 
$strss '
,ss' (
columnstt 
:tt 
tablett 
=>tt !
newtt" %
{uu 
UserIdvv 
=vv 
tablevv "
.vv" #
Columnvv# )
<vv) *
stringvv* 0
>vv0 1
(vv1 2
nullablevv2 :
:vv: ;
falsevv< A
)vvA B
,vvB C
RoleIdww 
=ww 
tableww "
.ww" #
Columnww# )
<ww) *
stringww* 0
>ww0 1
(ww1 2
nullableww2 :
:ww: ;
falseww< A
)wwA B
}xx 
,xx 
constraintsyy 
:yy 
tableyy "
=>yy# %
{zz 
table{{ 
.{{ 

PrimaryKey{{ $
({{$ %
$str{{% 9
,{{9 :
x{{; <
=>{{= ?
new{{@ C
{{{D E
x{{F G
.{{G H
UserId{{H N
,{{N O
x{{P Q
.{{Q R
RoleId{{R X
}{{Y Z
){{Z [
;{{[ \
table|| 
.|| 

ForeignKey|| $
(||$ %
name}} 
:}} 
$str}} E
,}}E F
column~~ 
:~~ 
x~~  !
=>~~" $
x~~% &
.~~& '
RoleId~~' -
,~~- .
principalTable &
:& '
$str( 5
,5 6
principalColumn
ÄÄ '
:
ÄÄ' (
$str
ÄÄ) -
,
ÄÄ- .
onDelete
ÅÅ  
:
ÅÅ  !
ReferentialAction
ÅÅ" 3
.
ÅÅ3 4
Cascade
ÅÅ4 ;
)
ÅÅ; <
;
ÅÅ< =
table
ÇÇ 
.
ÇÇ 

ForeignKey
ÇÇ $
(
ÇÇ$ %
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ E
,
ÉÉE F
column
ÑÑ 
:
ÑÑ 
x
ÑÑ  !
=>
ÑÑ" $
x
ÑÑ% &
.
ÑÑ& '
UserId
ÑÑ' -
,
ÑÑ- .
principalTable
ÖÖ &
:
ÖÖ& '
$str
ÖÖ( 5
,
ÖÖ5 6
principalColumn
ÜÜ '
:
ÜÜ' (
$str
ÜÜ) -
,
ÜÜ- .
onDelete
áá  
:
áá  !
ReferentialAction
áá" 3
.
áá3 4
Cascade
áá4 ;
)
áá; <
;
áá< =
}
àà 
)
àà 
;
àà 
migrationBuilder
ää 
.
ää 
CreateTable
ää (
(
ää( )
name
ãã 
:
ãã 
$str
ãã (
,
ãã( )
columns
åå 
:
åå 
table
åå 
=>
åå !
new
åå" %
{
çç 
UserId
éé 
=
éé 
table
éé "
.
éé" #
Column
éé# )
<
éé) *
string
éé* 0
>
éé0 1
(
éé1 2
nullable
éé2 :
:
éé: ;
false
éé< A
)
ééA B
,
ééB C
LoginProvider
èè !
=
èè" #
table
èè$ )
.
èè) *
Column
èè* 0
<
èè0 1
string
èè1 7
>
èè7 8
(
èè8 9
	maxLength
èè9 B
:
èèB C
$num
èèD G
,
èèG H
nullable
èèI Q
:
èèQ R
false
èèS X
)
èèX Y
,
èèY Z
Name
êê 
=
êê 
table
êê  
.
êê  !
Column
êê! '
<
êê' (
string
êê( .
>
êê. /
(
êê/ 0
	maxLength
êê0 9
:
êê9 :
$num
êê; >
,
êê> ?
nullable
êê@ H
:
êêH I
false
êêJ O
)
êêO P
,
êêP Q
Value
ëë 
=
ëë 
table
ëë !
.
ëë! "
Column
ëë" (
<
ëë( )
string
ëë) /
>
ëë/ 0
(
ëë0 1
nullable
ëë1 9
:
ëë9 :
true
ëë; ?
)
ëë? @
}
íí 
,
íí 
constraints
ìì 
:
ìì 
table
ìì "
=>
ìì# %
{
îî 
table
ïï 
.
ïï 

PrimaryKey
ïï $
(
ïï$ %
$str
ïï% :
,
ïï: ;
x
ïï< =
=>
ïï> @
new
ïïA D
{
ïïE F
x
ïïG H
.
ïïH I
UserId
ïïI O
,
ïïO P
x
ïïQ R
.
ïïR S
LoginProvider
ïïS `
,
ïï` a
x
ïïb c
.
ïïc d
Name
ïïd h
}
ïïi j
)
ïïj k
;
ïïk l
table
ññ 
.
ññ 

ForeignKey
ññ $
(
ññ$ %
name
óó 
:
óó 
$str
óó F
,
óóF G
column
òò 
:
òò 
x
òò  !
=>
òò" $
x
òò% &
.
òò& '
UserId
òò' -
,
òò- .
principalTable
ôô &
:
ôô& '
$str
ôô( 5
,
ôô5 6
principalColumn
öö '
:
öö' (
$str
öö) -
,
öö- .
onDelete
õõ  
:
õõ  !
ReferentialAction
õõ" 3
.
õõ3 4
Cascade
õõ4 ;
)
õõ; <
;
õõ< =
}
úú 
)
úú 
;
úú 
migrationBuilder
ûû 
.
ûû 
CreateIndex
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü 2
,
üü2 3
table
†† 
:
†† 
$str
†† )
,
††) *
column
°° 
:
°° 
$str
°°  
)
°°  !
;
°°! "
migrationBuilder
££ 
.
££ 
CreateIndex
££ (
(
££( )
name
§§ 
:
§§ 
$str
§§ %
,
§§% &
table
•• 
:
•• 
$str
•• $
,
••$ %
column
¶¶ 
:
¶¶ 
$str
¶¶ (
,
¶¶( )
unique
ßß 
:
ßß 
true
ßß 
,
ßß 
filter
®® 
:
®® 
$str
®® 6
)
®®6 7
;
®®7 8
migrationBuilder
™™ 
.
™™ 
CreateIndex
™™ (
(
™™( )
name
´´ 
:
´´ 
$str
´´ 2
,
´´2 3
table
¨¨ 
:
¨¨ 
$str
¨¨ )
,
¨¨) *
column
≠≠ 
:
≠≠ 
$str
≠≠  
)
≠≠  !
;
≠≠! "
migrationBuilder
ØØ 
.
ØØ 
CreateIndex
ØØ (
(
ØØ( )
name
∞∞ 
:
∞∞ 
$str
∞∞ 2
,
∞∞2 3
table
±± 
:
±± 
$str
±± )
,
±±) *
column
≤≤ 
:
≤≤ 
$str
≤≤  
)
≤≤  !
;
≤≤! "
migrationBuilder
¥¥ 
.
¥¥ 
CreateIndex
¥¥ (
(
¥¥( )
name
µµ 
:
µµ 
$str
µµ 1
,
µµ1 2
table
∂∂ 
:
∂∂ 
$str
∂∂ (
,
∂∂( )
column
∑∑ 
:
∑∑ 
$str
∑∑  
)
∑∑  !
;
∑∑! "
migrationBuilder
ππ 
.
ππ 
CreateIndex
ππ (
(
ππ( )
name
∫∫ 
:
∫∫ 
$str
∫∫ "
,
∫∫" #
table
ªª 
:
ªª 
$str
ªª $
,
ªª$ %
column
ºº 
:
ºº 
$str
ºº )
)
ºº) *
;
ºº* +
migrationBuilder
ææ 
.
ææ 
CreateIndex
ææ (
(
ææ( )
name
øø 
:
øø 
$str
øø %
,
øø% &
table
¿¿ 
:
¿¿ 
$str
¿¿ $
,
¿¿$ %
column
¡¡ 
:
¡¡ 
$str
¡¡ ,
,
¡¡, -
unique
¬¬ 
:
¬¬ 
true
¬¬ 
,
¬¬ 
filter
√√ 
:
√√ 
$str
√√ :
)
√√: ;
;
√√; <
}
ƒƒ 	
	protected
∆∆ 
override
∆∆ 
void
∆∆ 
Down
∆∆  $
(
∆∆$ %
MigrationBuilder
∆∆% 5
migrationBuilder
∆∆6 F
)
∆∆F G
{
«« 	
migrationBuilder
»» 
.
»» 
	DropTable
»» &
(
»»& '
name
…… 
:
…… 
$str
…… (
)
……( )
;
……) *
migrationBuilder
ÀÀ 
.
ÀÀ 
	DropTable
ÀÀ &
(
ÀÀ& '
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ (
)
ÃÃ( )
;
ÃÃ) *
migrationBuilder
ŒŒ 
.
ŒŒ 
	DropTable
ŒŒ &
(
ŒŒ& '
name
œœ 
:
œœ 
$str
œœ (
)
œœ( )
;
œœ) *
migrationBuilder
—— 
.
—— 
	DropTable
—— &
(
——& '
name
““ 
:
““ 
$str
““ '
)
““' (
;
““( )
migrationBuilder
‘‘ 
.
‘‘ 
	DropTable
‘‘ &
(
‘‘& '
name
’’ 
:
’’ 
$str
’’ (
)
’’( )
;
’’) *
migrationBuilder
◊◊ 
.
◊◊ 
	DropTable
◊◊ &
(
◊◊& '
name
ÿÿ 
:
ÿÿ 
$str
ÿÿ #
)
ÿÿ# $
;
ÿÿ$ %
migrationBuilder
⁄⁄ 
.
⁄⁄ 
	DropTable
⁄⁄ &
(
⁄⁄& '
name
€€ 
:
€€ 
$str
€€ #
)
€€# $
;
€€$ %
}
‹‹ 	
}
›› 
}ﬁﬁ ‰
KD:\Project - Copy\server\WebAPI\Migrations\20190828080005_SecondCreation.cs
	namespace 	
WebAPI
 
. 

Migrations 
{ 
public 

partial 
class 
SecondCreation '
:( )
	Migration* 3
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str '
,' (
columns 
: 
table 
=> !
new" %
{ 
EId 
= 
table 
.  
Column  &
<& '
int' *
>* +
(+ ,
nullable, 4
:4 5
false6 ;
); <
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
EmployeeName  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> M
,M N
nullableO W
:W X
falseY ^
)^ _
,_ `
PhoneNo 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
BDay 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Nic 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 C
,C D
nullableE M
:M N
falseO T
)T U
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 9
,9 :
x; <
=>= ?
x@ A
.A B
EIdB E
)E F
;F G
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str '
)' (
;( )
} 	
}   
}!! «
=D:\Project - Copy\server\WebAPI\Models\ApplicationSettings.cs
	namespace 	
WebAPI
 
. 
Models 
{ 
public 

class 
ApplicationSettings $
{		 
public

 
string

 

JWT_Secret

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
string 

Client_URL  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} œ
9D:\Project - Copy\server\WebAPI\Models\ApplicationUser.cs
	namespace 	
WebAPI
 
. 
Models 
{		 
public

 

class

 
ApplicationUser

  
:

! "
IdentityUser

# /
{ 
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
String 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ˙
>D:\Project - Copy\server\WebAPI\Models\ApplicationUserModel.cs
	namespace 	
WebAPI
 
. 
Models 
{ 
public 

class  
ApplicationUserModel %
{		 
public

 
string

 
UserName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ö
8D:\Project - Copy\server\WebAPI\Models\EmployeeDetail.cs
	namespace 	
WebAPI
 
. 
Models 
{		 
public

 

class

 
EmployeeDetail

 
{ 
[ 	
Key	 
] 
public 
int 
EId 
{ 
get 
; 
set !
;! "
}# $
[ 	
Required	 
] 
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
string 
EmployeeName "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
Required	 
] 
[ 	
Column	 
( 
TypeName 
= 
$str )
)) *
]* +
public 
string 
PhoneNo 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
[ 	
Column	 
( 
TypeName 
= 
$str )
)) *
]* +
public 
string 
BDay 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
] 
[ 	
Column	 
( 
TypeName 
= 
$str )
)) *
]* +
public 
string 
Nic 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ±
4D:\Project - Copy\server\WebAPI\Models\LoginModel.cs
	namespace 	
WebAPI
 
. 
Models 
{ 
public 

class 

LoginModel 
{		 
public

 
string

 
UserName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ú
*D:\Project - Copy\server\WebAPI\Program.cs
	namespace 	
WebAPI
 
{ 
public 

static 
class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
var 
logger 
= 
NLog 
. 
Web !
.! "
NLogBuilder" -
.- .
ConfigureNLog. ;
(; <
$str< I
)I J
.J K!
GetCurrentClassLoggerK `
(` a
)a b
;b c
try 
{ 
logger 
. 
Debug 
( 
$str (
)( )
;) * 
CreateWebHostBuilder $
($ %
args% )
)) *
.* +
Build+ 0
(0 1
)1 2
.2 3
Run3 6
(6 7
)7 8
;8 9
} 
catch 
( 
	Exception 
ex 
)  
{ 
logger 
. 
Error 
( 
ex 
,  
$str! G
)G H
;H I
throw 
; 
}   
finally!! 
{"" 
NLog$$ 
.$$ 

LogManager$$ 
.$$  
Shutdown$$  (
($$( )
)$$) *
;$$* +
}%% 
}'' 	
public)) 
static)) 
IWebHostBuilder)) % 
CreateWebHostBuilder))& :
()): ;
string)); A
[))A B
]))B C
args))D H
)))H I
=>))J L
WebHost** 
.**  
CreateDefaultBuilder** (
(**( )
args**) -
)**- .
.++ 

UseStartup++ 
<++ 
Startup++ #
>++# $
(++$ %
)++% &
.,, 
ConfigureLogging,, !
(,,! "
logging,," )
=>,,* ,
{-- 
logging.. 
... 
ClearProviders.. *
(..* +
)..+ ,
;.., -
logging// 
.// 
SetMinimumLevel// +
(//+ ,
LogLevel//, 4
.//4 5
Information//5 @
)//@ A
;//A B
}00 
)00 
.11 
UseNLog11 
(11 
)11 
;11 
}22 
}33 ÷
HD:\Project - Copy\server\WebAPI\Repositories\EmployeeDetailRepository.cs
	namespace		 	
WebAPI		
 
.		 
Repositories		 
{

 
public 

class $
EmployeeDetailRepository )
:* +%
IEmployeeDetailRepository, E
{ 
private 
readonly !
AuthenticationContext .
_context/ 7
;7 8
public $
EmployeeDetailRepository '
(' (!
AuthenticationContext( =
context> E
)E F
{ 	
_context 
= 
context 
; 
} 	
public 
void 
Insert 
< 
T 
> 
( 
T 
entity  &
)& '
where( -
T. /
:0 1
class2 7
{ 	
_context 
. 
Add 
( 
entity 
)  
;  !
} 	
public 
void 
Update 
< 
T 
> 
( 
T 
entity  &
)& '
where( -
T. /
:0 1
class2 7
{ 	
_context 
. 
Entry 
( 
entity !
)! "
." #
State# (
=) *
EntityState+ 6
.6 7
Modified7 ?
;? @
} 	
public 
void 
Delete 
< 
T 
> 
( 
T 
entity  &
)& '
where( -
T. /
:0 1
class2 7
{ 	
_context   
.   
Remove   
(   
entity   "
)  " #
;  # $
}!! 	
public## 
async## 
Task## 
<## 
int## 
>## 
SaveAllAsync## +
(##+ ,
)##, -
{$$ 	
return%% 
(%% 
await%% 
_context%% "
.%%" #
SaveChangesAsync%%# 3
(%%3 4
)%%4 5
)%%5 6
;%%6 7
}&& 	
public(( 
async(( 
Task(( 
<(( 
List(( 
<(( 
EmployeeDetail(( -
>((- .
>((. /
GetAllAsync((0 ;
(((; <
)((< =
{)) 	
return** 
await** 
_context** !
.**! "
EmployeeDetails**" 1
.**1 2
ToListAsync**2 =
(**= >
)**> ?
;**? @
}++ 	
public-- 
async-- 
Task-- 
<-- 
EmployeeDetail-- (
>--( )!
GetEmployeeDetailById--* ?
(--? @
int--@ C
id--D F
)--F G
{.. 	
return// 
await// 
_context// !
.//! "
EmployeeDetails//" 1
.//1 2
	FindAsync//2 ;
(//; <
id//< >
)//> ?
;//? @
}00 	
public22 
bool22  
EmployeeDetailExists22 (
(22( )
int22) ,
id22- /
)22/ 0
{33 	
return44 
_context44 
.44 
EmployeeDetails44 +
.44+ ,
Any44, /
(44/ 0
e440 1
=>442 4
e445 6
.446 7
EId447 :
==44; =
id44> @
)44@ A
;44A B
}66 	
}77 
}88 Â
ID:\Project - Copy\server\WebAPI\Repositories\IEmployeeDetailRepository.cs
	namespace 	
WebAPI
 
. 
Repositories 
{ 
public		 	
	interface		
 %
IEmployeeDetailRepository		 -
{

 
void 
Insert 
< 
T 
> 
( 
T 
entity 
)  
where! &
T' (
:) *
class+ 0
;0 1
void 
Delete 
< 
T 
> 
( 
T 
entity 
)  
where! &
T' (
:) *
class+ 0
;0 1
void 
Update 
< 
T 
> 
( 
T 
entity 
)  
where! &
T' (
:) *
class+ 0
;0 1
Task 
< 
int 
> 
SaveAllAsync 
( 
)  
;  !
Task 
< 
List 
< 
EmployeeDetail  
>  !
>! "
GetAllAsync# .
(. /
)/ 0
;0 1
Task 
< 
EmployeeDetail 
> !
GetEmployeeDetailById 2
(2 3
int3 6
id7 9
)9 :
;: ;
bool  
EmployeeDetailExists !
(! "
int" %
id& (
)( )
;) *
} 
} óW
*D:\Project - Copy\server\WebAPI\Startup.cs
	namespace 	
WebAPI
 
{ 
public 

class 
Startup 
{ 
private 
readonly 
ILogger  
_logger! (
;( )
public 
Startup 
( 
IConfiguration %
configuration& 3
,3 4
ILogger5 <
<< =
Startup= D
>D E
loggerF L
)L M
{ 	
Configuration   
=   
configuration   )
;  ) *
_logger!! 
=!! 
logger!! 
;!! 
}## 	
public%% 
IConfiguration%% 
Configuration%% +
{%%, -
get%%. 1
;%%1 2
}%%3 4
private'' 
static'' 
ILogger'' 
<'' !
ConsoleLoggerProvider'' 4
>''4 5
	AppLogger''6 ?
=''@ A
null''B F
;''F G
private(( 
static(( 
ILoggerFactory(( %
loggerFactory((& 3
=((4 5
null((6 :
;((: ;
public++ 
void++ 
ConfigureServices++ %
(++% &
IServiceCollection++& 8
services++9 A
)++A B
{,, 	
services.. 
... 
	Configure.. 
<..  
ApplicationSettings..! 4
>..4 5
(..5 6
Configuration..6 C
...C D

GetSection..D N
(..N O
$str..O d
)..d e
)..e f
;..f g
services00 
.00 
AddMvc00 
(00 
)00 
.11 #
SetCompatibilityVersion11 (
(11( ) 
CompatibilityVersion11) =
.11= >
Version_2_111> I
)11I J
.22 
AddJsonOptions22 
(22  
options22  '
=>22( *
{22+ ,
var33 
resolver33  
=33! "
options33# *
.33* +
SerializerSettings33+ =
.33= >
ContractResolver33> N
;33N O
if44 
(44 
resolver44  
!=44! #
null44$ (
)44( )
(55 
resolver55 !
as55" $#
DefaultContractResolver55% <
)55< =
.55= >
NamingStrategy55> L
=55M N
null55O S
;55S T
}66 
)66 
;66 
services88 
.88 
AddDbContext88 !
<88! "!
AuthenticationContext88" 7
>887 8
(888 9
options889 @
=>88A C
options99 
.99 
UseSqlServer99  
(99  !
Configuration99! .
.99. /
GetConnectionString99/ B
(99B C
$str99C W
)99W X
)99X Y
)99Y Z
;99Z [
services;; 
.;; 
AddDefaultIdentity;; '
<;;' (
ApplicationUser;;( 7
>;;7 8
(;;8 9
);;9 :
.<< $
AddEntityFrameworkStores<< )
<<<) *!
AuthenticationContext<<* ?
><<? @
(<<@ A
)<<A B
;<<B C
services>> 
.>> 
	Configure>> 
<>> 
IdentityOptions>> .
>>>. /
(>>/ 0
options>>0 7
=>>>8 :
{?? 
options@@ 
.@@ 
Password@@  
.@@  !
RequireDigit@@! -
=@@. /
false@@0 5
;@@5 6
optionsAA 
.AA 
PasswordAA  
.AA  !"
RequireNonAlphanumericAA! 7
=AA8 9
falseAA: ?
;AA? @
optionsBB 
.BB 
PasswordBB  
.BB  !
RequireLowercaseBB! 1
=BB2 3
falseBB4 9
;BB9 :
optionsCC 
.CC 
PasswordCC  
.CC  !
RequireUppercaseCC! 1
=CC2 3
falseCC4 9
;CC9 :
optionsDD 
.DD 
PasswordDD  
.DD  !
RequiredLengthDD! /
=DD0 1
$numDD2 3
;DD3 4
}EE 
)FF 
;FF 
servicesHH 
.HH 
AddCorsHH 
(HH 
optionsHH $
=>HH% '
{II 
optionsJJ 
.JJ 
	AddPolicyJJ !
(JJ! "
$strJJ" /
,JJ/ 0
builderKK 
=>KK 
builderKK &
.KK& '
WithOriginsKK' 2
(KK2 3
$strKK3 J
)KKJ K
)KKK L
;KKL M
}LL 
)LL 
;LL 
servicesNN 
.NN 
	AddScopedNN 
<NN %
IEmployeeDetailRepositoryNN 8
,NN8 9$
EmployeeDetailRepositoryNN: R
>NNR S
(NNS T
)NNT U
;NNU V
servicesOO 
.OO 
	AddScopedOO 
<OO #
IEmployeeDetailsHandlerOO  7
,OO7 8!
EmployeeDetailHandlerOO9 N
>OON O
(OOO P
)OOP Q
;OOQ R
IMapperQQ 
_mapperQQ 
=QQ 
MapperQQ $
.QQ$ %
MapperQQ% +
.QQ+ ,
	GetMapperQQ, 5
(QQ5 6
)QQ6 7
;QQ7 8
servicesRR 
.RR 
AddSingletonRR !
(RR! "
_mapperRR" )
)RR) *
;RR* +
servicesVV 
.VV 

AddLoggingVV 
(VV  
builderVV  '
=>VV( *
builderVV+ 2
.WW 

AddConsoleWW 
(WW 
)WW 
.XX 
	AddFilterXX 
(XX 
levelXX 
=>XX  
levelXX! &
>=XX' )
LogLevelXX* 2
.XX2 3
TraceXX3 8
)XX8 9
)YY 
;YY 
loggerFactoryZZ 
=ZZ 
servicesZZ $
.ZZ$ % 
BuildServiceProviderZZ% 9
(ZZ9 :
)ZZ: ;
.ZZ; <

GetServiceZZ< F
<ZZF G
ILoggerFactoryZZG U
>ZZU V
(ZZV W
)ZZW X
;ZZX Y
	AppLogger[[ 
=[[ 
loggerFactory[[ %
.[[% &
CreateLogger[[& 2
<[[2 3!
ConsoleLoggerProvider[[3 H
>[[H I
([[I J
)[[J K
;[[K L
var`` 
config`` 
=`` 
Configuration`` &
[``& '
$str``' G
]``G H
.``H I
ToString``I Q
(``Q R
)``R S
;``S T
varbb 
keybb 
=bb 
Encodingbb 
.bb 
UTF8bb #
.bb# $
GetBytesbb$ ,
(bb, -
configbb- 3
)bb3 4
;bb4 5
servicesdd 
.dd 
AddAuthenticationdd &
(dd& '
xdd' (
=>dd) +
{ee 
xff 
.ff %
DefaultAuthenticateSchemeff +
=ff, -
JwtBearerDefaultsff. ?
.ff? @ 
AuthenticationSchemeff@ T
;ffT U
xgg 
.gg "
DefaultChallengeSchemegg (
=gg) *
JwtBearerDefaultsgg+ <
.gg< = 
AuthenticationSchemegg= Q
;ggQ R
xhh 
.hh 
DefaultSchemehh 
=hh  !
JwtBearerDefaultshh" 3
.hh3 4 
AuthenticationSchemehh4 H
;hhH I
}ii 
)ii 
.ii 
AddJwtBearerii 
(ii 
xii 
=>ii  
{jj 
xkk 
.kk  
RequireHttpsMetadatakk &
=kk' (
falsekk) .
;kk. /
xll 
.ll 
	SaveTokenll 
=ll 
falsell #
;ll# $
xmm 
.mm %
TokenValidationParametersmm +
=mm, -
newmm. 1
	Microsoftmm2 ;
.mm; <
IdentityModelmm< I
.mmI J
TokensmmJ P
.mmP Q%
TokenValidationParametersmmQ j
{nn $
ValidateIssuerSigningKeyoo ,
=oo- .
trueoo/ 3
,oo3 4
IssuerSigningKeypp $
=pp% &
newpp' * 
SymmetricSecurityKeypp+ ?
(pp? @
keypp@ C
)ppC D
,ppD E
ValidateIssuerqq "
=qq# $
falseqq% *
,qq* +
ValidateAudiencerr $
=rr% &
falserr' ,
,rr, -
	ClockSkewss 
=ss 
TimeSpanss  (
.ss( )
Zeross) -
}tt 
;tt 
}uu 
)uu 
;uu 
servicesww 
.ww 
AddTransientww !
<ww! "#
IEmployeeDetailsHandlerww" 9
,ww9 :!
EmployeeDetailHandlerww; P
>wwP Q
(wwQ R
)wwR S
;wwS T
_loggerxx 
.xx 
LogInformationxx "
(xx" #
$strxx# E
)xxE F
;xxF G
}zz 	
public}} 
void}} 
	Configure}} 
(}} 
IApplicationBuilder}} 1
app}}2 5
,}}5 6
IHostingEnvironment}}7 J
env}}K N
)}}N O
{~~ 	
app
ÄÄ 
.
ÄÄ 
Use
ÄÄ 
(
ÄÄ 
async
ÄÄ 
(
ÄÄ 
ctx
ÄÄ 
,
ÄÄ 
next
ÄÄ  $
)
ÄÄ$ %
=>
ÄÄ& (
{
ÅÅ 
await
ÇÇ 
next
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
if
ÉÉ 
(
ÉÉ 
ctx
ÉÉ 
.
ÉÉ 
Response
ÉÉ  
.
ÉÉ  !

StatusCode
ÉÉ! +
==
ÉÉ, .
$num
ÉÉ/ 2
)
ÉÉ2 3
{
ÑÑ 
ctx
ÖÖ 
.
ÖÖ 
Response
ÖÖ  
.
ÖÖ  !
ContentLength
ÖÖ! .
=
ÖÖ/ 0
$num
ÖÖ1 2
;
ÖÖ2 3
}
ÜÜ 
}
áá 
)
áá 
;
áá 
if
ââ 
(
ââ 
env
ââ 
.
ââ 
IsDevelopment
ââ !
(
ââ! "
)
ââ" #
)
ââ# $
{
ää 
_logger
ãã 
.
ãã 
LogInformation
ãã &
(
ãã& '
$str
ãã' C
)
ããC D
;
ããD E
app
åå 
.
åå '
UseDeveloperExceptionPage
åå -
(
åå- .
)
åå. /
;
åå/ 0
}
çç 
app
èè 
.
èè 
UseCors
èè 
(
èè 
builder
èè 
=>
èè  "
builder
êê 
.
êê 
WithOrigins
êê 
(
êê  
Configuration
êê  -
[
êê- .
$str
êê. N
]
êêN O
.
êêO P
ToString
êêP X
(
êêX Y
)
êêY Z
)
êêZ [
.
ëë 
AllowAnyHeader
ëë 
(
ëë 
)
ëë 
.
íí 
AllowAnyMethod
íí 
(
íí 
)
íí 
)
ìì 
;
ìì 
app
ïï 
.
ïï 
UseMvc
ïï 
(
ïï 
)
ïï 
;
ïï 
}
ññ 	
}
óó 
}òò 